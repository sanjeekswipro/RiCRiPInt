<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: _XPSPackageDescription Struct Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>_XPSPackageDescription Struct Reference</h1><!-- doxytag: class="_XPSPackageDescription" -->
<p>Describes a complete XPS package, whose individual part streams are managed outside of the RIP.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;streams.h&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__XPSPackageDescription.html#ad5d26b28ae4e06a26c307829baf3b37e">fHasPrintTicket</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag indicating whether this package has a job-level print ticket.  <a href="#ad5d26b28ae4e06a26c307829baf3b37e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada8fba6503f6b2b06d5c84dad950cb97"></a><!-- doxytag: member="_XPSPackageDescription::nDocuments" ref="ada8fba6503f6b2b06d5c84dad950cb97" args="" -->
<a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__XPSPackageDescription.html#ada8fba6503f6b2b06d5c84dad950cb97">nDocuments</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of documents contained within the package. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab59f9b4e1d9d617b5f0aabc6bbd9694"></a><!-- doxytag: member="_XPSPackageDescription::pDocumentDescriptions" ref="aab59f9b4e1d9d617b5f0aabc6bbd9694" args="" -->
<a class="el" href="struct__XPSDocumentDescription.html">XPSDocumentDescription</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__XPSPackageDescription.html#aab59f9b4e1d9d617b5f0aabc6bbd9694">pDocumentDescriptions</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the base of an array of exactly <code>nDocuments</code> elements, describing each document in the package. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__XPSPackageDescription.html#a39c92e4ca2397d827eaf61e07cb3ff62">pszFixedDocumentSequenceUri</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The absolute URI of the FixedDocumentSequence part.  <a href="#a39c92e4ca2397d827eaf61e07cb3ff62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__XPSPackageDescription.html#a1b6bed626bd0c8e8bab5d031e24111f3">pszPrintTicketUri</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The absolute URI of the Print Ticket part associated with the FixedDocumentSequence, if any.  <a href="#a1b6bed626bd0c8e8bab5d031e24111f3"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Describes a complete XPS package, whose individual part streams are managed outside of the RIP. </p>
<p>The RIP has the ability to render XPS files from "virtual" packages, without needing them to be contained within a physical ZIP file. The <code>XPSPackageDescription</code> and <code>XPSPackageStreamManager</code> structures allow the RIP client to describe the contents of an XPS package abstractly, and then to provide streams on individual package parts as and when the RIP needs to read them.</p>
<p>This structure, along with those nested beneath it, is responsible for describing the overall <code>shape</code> of the package: the number of documents in the package, the number of pages in each document, the content types of the resources used by each page. None of the actual package <em>contents</em> are contained within this structure: there are no pointers to XML markup strings, nor to any image or font data. Instead, the package description can be seen as an implicit declaration that a certain number of <code>part streams</code> exist, and are known to the client. Given this declaration, the RIP can process the package, as long as it also has a means of opening each part stream on demand. This facility is provided by the <code>XPSPackageStreamManager</code>.</p>
<p>Suppose that we have a single-page XPS package. The page markup is known to reference a font resource whose URI is <code>"/Documents/1/Resources/Fonts/Times.ttf"</code>. The package has a job-level print ticket, but no document or page-level print tickets. This example package could be described to the RIP using the following sequence of declarations:</p>
<div class="fragment"><pre class="fragment">
  static XPSContentTypeEntry ctEntries[] =
  {
    { "/Documents/1/Resources/Fonts/Times.ttf", "application/vnd.ms-opentype" }
  };
 
  static XPSContentTypeMap ctMap = { 1, ctEntries };
 
  static XPSPageDescription pages[] = { { FALSE, &amp;ctMap } };
 
  static XPSDocumentDescription docs[] = { { FALSE, 1, pages } };
 
  static XPSPackageDescription package = { TRUE, 1, docs };
  </pre></div><p>If the caller were to describe this package to the RIP, it would also need to be prepared to provide <code>HqnReadStream</code>s for: the job-level print ticket, the page markup, and the font resource whose URI is <code>"/Documents/1/Resources/Fonts/Times.ttf"</code>. As long as the RIP can read from these three external streams, it can interpret and render the complete package.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="streams_8h.html#a10ff454f078fa87142fe2b5651b8e10e" title="Combines the function protocols for opening and closing individual XPS part streams...">XPSPackageStreamManager</a> </dd></dl>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad5d26b28ae4e06a26c307829baf3b37e"></a><!-- doxytag: member="_XPSPackageDescription::fHasPrintTicket" ref="ad5d26b28ae4e06a26c307829baf3b37e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a> <a class="el" href="struct__XPSPackageDescription.html#ad5d26b28ae4e06a26c307829baf3b37e">fHasPrintTicket</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flag indicating whether this package has a job-level print ticket. </p>
<p>Set this to <code>TRUE</code> if this package has an associated job-wide print ticket stream, otherwise set it to <code>FALSE</code>. The RIP uses this flag to determine whether it should call out to the <code>XPSPackageStreamManager</code> with a resource type of <code>ResourceType_Job_PT</code> for this job. If the flag is set to <code>FALSE</code>, the RIP will not make such a call for this job. This can improve efficiency, and avoid the need to implement empty streams where print tickets are not present. </p>

</div>
</div>
<a class="anchor" id="a39c92e4ca2397d827eaf61e07cb3ff62"></a><!-- doxytag: member="_XPSPackageDescription::pszFixedDocumentSequenceUri" ref="a39c92e4ca2397d827eaf61e07cb3ff62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>* <a class="el" href="struct__XPSPackageDescription.html#a39c92e4ca2397d827eaf61e07cb3ff62">pszFixedDocumentSequenceUri</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The absolute URI of the FixedDocumentSequence part. </p>
<p>If this is <code>NUL</code>, the URI of the document sequence is assumed to follow the conventional XPS package structure where the URI would be "/FixedDocumentSequence.fdseq". If the managed package is using a different structure, the caller should always use this field to override the default. Failure to do this can cause problems when there are relative resource references within the document sequence markup. </p>

</div>
</div>
<a class="anchor" id="a1b6bed626bd0c8e8bab5d031e24111f3"></a><!-- doxytag: member="_XPSPackageDescription::pszPrintTicketUri" ref="a1b6bed626bd0c8e8bab5d031e24111f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>* <a class="el" href="struct__XPSPackageDescription.html#a1b6bed626bd0c8e8bab5d031e24111f3">pszPrintTicketUri</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The absolute URI of the Print Ticket part associated with the FixedDocumentSequence, if any. </p>
<p>If <code>fHasPrintTicket</code> is <code>FALSE</code>, then this field will be ignored, and would conventionally be set to <code>NUL</code> by the caller. Otherwise, if this field is <code>NUL</code>, the RIP will assume a default URI for the Print Ticket, appropriate to the root scope of the package. If a specific Print Ticket URI is known to the caller, it should always be supplied in this field. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="streams_8h.html">streams.h</a></li>
</ul>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
