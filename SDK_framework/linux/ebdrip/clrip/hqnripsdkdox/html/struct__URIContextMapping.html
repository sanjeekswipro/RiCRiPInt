<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: _URIContextMapping Struct Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>_URIContextMapping Struct Reference</h1><!-- doxytag: class="_URIContextMapping" -->
<p>Linked list entry describing the document, page and resource type context for a given URI.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;xpsbuild.h&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef15dc9418723f1b9d8af232d5b3d72f"></a><!-- doxytag: member="_URIContextMapping::szURI" ref="aef15dc9418723f1b9d8af232d5b3d72f" args="[2048]" -->
<a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__URIContextMapping.html#aef15dc9418723f1b9d8af232d5b3d72f">szURI</a> [2048]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NUL-terminated part name relative to the package root, such as <code>"/documents/1/pages/1.fpage"</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2e1eb4ee2b29513529a87a45da2c78b"></a><!-- doxytag: member="_URIContextMapping::iDocument" ref="ae2e1eb4ee2b29513529a87a45da2c78b" args="" -->
<a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__URIContextMapping.html#ae2e1eb4ee2b29513529a87a45da2c78b">iDocument</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero-based index to the document context. For instance, this would be <code>0</code> where <code>szURI</code> is <code>"/documents/1/pages/5.fpage"</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a686dcb8f10000658b137c1be9a7905ab"></a><!-- doxytag: member="_URIContextMapping::iPage" ref="a686dcb8f10000658b137c1be9a7905ab" args="" -->
<a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__URIContextMapping.html#a686dcb8f10000658b137c1be9a7905ab">iPage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero-based index to the page context. For instance, this would be <code>4</code> where <code>szURI</code> is <code>"/documents/1/pages/5.fpage"</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab73075bc53bdfac45bedab1306fd43ae"></a><!-- doxytag: member="_URIContextMapping::resourceType" ref="ab73075bc53bdfac45bedab1306fd43ae" args="" -->
<a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__URIContextMapping.html#ab73075bc53bdfac45bedab1306fd43ae">resourceType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A member of the <code>ResourceType_*</code> enumeration. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c78351968f0953270a133f788fd647f"></a><!-- doxytag: member="_URIContextMapping::pNext" ref="a5c78351968f0953270a133f788fd647f" args="" -->
struct <a class="el" href="struct__URIContextMapping.html">_URIContextMapping</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__URIContextMapping.html#a5c78351968f0953270a133f788fd647f">pNext</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to the next entry in the list, or <code>NULL</code> if this is the final entry. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Linked list entry describing the document, page and resource type context for a given URI. </p>
<p>This structure is used to help the xpsdev make outgoing calls to the <code>OpenResourceStream()</code> function in <code>XPSPackageStreamManager</code>. The URI scheme used internally by xpsdev need not necessarily match the scheme being used by the external package manager. The only cases where a precise match can be assumed is where the URIs have been explicitly declared by the external manager already, as is the case with resource streams such as fonts and images. For other parts, such as page markups and print tickets, the stream is addressed by its <code>context</code>, rather than by a URI string. This structure maps the internal part name onto the correct context, allowing xpsdev to pass out the context information instead of the URI itself.</p>
<p>For example, suppose the external manager has described an XPS package with a single document of 10 pages. When this package representation is built within the MFS virtual file tree, the URI of the fifth page will be <code>"/documents/1/pages/5.fpage"</code>. When the RIP needs to read the markup for this page, the part will not be addressed using this URI. This because the URI is an internal fabrication within xpsdev, and the external package manager may not understand it. The external manager might employ a completely different scheme, whereby the URI of the markup part does not match <code>"/documents/1/pages/5.fpage"</code>. So, instead of passing this internal URI out to the stream manager, it will simply ask for a resource of type <code>ResourceType_Page_Markup</code>, where <code>(iDocument == 0 &amp;&amp; iPage == 4)</code> (rather than 1 and 5, since the indexes are zero-based). The external manager can then transform this logical part address according to its own scheme for finding the markup. The same applies to print tickets. The RIP would address the print ticket for page 5 (if there is one), using <code>ResourceType_Page_PT</code>, with the same values for <code>iDocument</code> and <code>iPage</code>.</p>
<p>When an XPS document description is built using MFS, a list of these mappings is produced as a by-product. When a particular part file is opened on xpdev, the list can be scanned for an entry whose URI matches the file name. If a match is found, then this determines the context. If no match is found, then the document and page contexts are assumed to be unchanged, and the resource type is the generic <code>ResourceType_URI</code>. </p>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="xpsbuild_8h.html">xpsbuild.h</a></li>
</ul>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
