<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: swzipreaddev.c File Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_19043388fc15ddb67e28f7a33621a223.html">skinkit</a>&nbsp;&raquo;&nbsp;<a class="el" href="dir_1a92abee00141eb4bc1b55dcfd46ed15.html">src</a>
  </div>
</div>
<div class="contents">
<h1>swzipreaddev.c File Reference</h1>
<p>Implementation of the SW ZIP read device type.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="std_8h.html">std.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hqstr_8h.html">hqstr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="devutils_8h.html">devutils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ripthread_8h.html">ripthread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="file_8h.html">file.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="paths_8h.html">paths.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mem_8h.html">mem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sync_8h.html">sync.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="skindevs_8h.html">skindevs.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="swdevice_8h.html">swdevice.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swoften_8h.html">swoften.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swzip_8h.html">swzip.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZIPFileState.html">ZIPFileState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to hold file-specific state.  <a href="structZIPFileState.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZIPDeviceState.html">ZIPDeviceState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to hold device-specific state.  <a href="structZIPDeviceState.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab68b7da4635d71a1e81b25e1adae19f6"></a><!-- doxytag: member="swzipreaddev.c::createFileState" ref="ab68b7da4635d71a1e81b25e1adae19f6" args="()" -->
static <a class="el" href="structZIPFileState.html">ZIPFileState</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swzipreaddev_8c.html#ab68b7da4635d71a1e81b25e1adae19f6">createFileState</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a <a class="el" href="structZIPFileState.html" title="Structure to hold file-specific state.">ZIPFileState</a> object. Should be released with <a class="el" href="swzipreaddev_8c.html#a26c3c556e0471dd05bb1b282a0c7d8ff" title="Release a FileState object.">releaseFileState()</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26c3c556e0471dd05bb1b282a0c7d8ff"></a><!-- doxytag: member="swzipreaddev.c::releaseFileState" ref="a26c3c556e0471dd05bb1b282a0c7d8ff" args="(ZIPFileState *pState)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swzipreaddev_8c.html#a26c3c556e0471dd05bb1b282a0c7d8ff">releaseFileState</a> (<a class="el" href="structZIPFileState.html">ZIPFileState</a> *pState)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release a <a class="el" href="structFileState.html" title="Structure to hold file-specific state.">FileState</a> object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swzipreaddev_8c.html#a4192f1e5ab611882d05f148392cc17d8">KSetSWZIPDir</a> (<a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *pSWZIPDir)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Record an explicit path to the folder where BootFile.bin is kept, overriding any default search rules.  <a href="#a4192f1e5ab611882d05f148392cc17d8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Implementation of the SW ZIP read device type. </p>
<p>If an SW ZIP read device is added to the device list which is passed to SwStart, the core will attempt to read SW content from a ZIP file called BootFile.bin. This ZIP file ought to contain the contents of a typical SW folder. Note that the SW files added to the ZIP file must not have SW as a prefix in their path.</p>
<p>SW ZIP read devices are only ever read from. The core will only ever mount a single instance of an SW ZIP read device.</p>
<p>When the core successfully opens the BootFile.bin file, the core continues to use the os device for writing files. This means that client code of the core can set the os device to an arbitrary empty directory and then install a SW ZIP read device which points to a shared BootFile.bin file. If the os device picks a unique directory name, multiple RIP's can be executed all sharing a single BootFile.bin. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4192f1e5ab611882d05f148392cc17d8"></a><!-- doxytag: member="swzipreaddev.c::KSetSWZIPDir" ref="a4192f1e5ab611882d05f148392cc17d8" args="(uint8 *pSWZIPDir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> KSetSWZIPDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *&nbsp;</td>
          <td class="paramname"> <em>pSWZIPDir</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Record an explicit path to the folder where BootFile.bin is kept, overriding any default search rules. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pSWZIPDir</em>&nbsp;</td><td>Pointer to a null-terminated path, which may not exceed LONGESTFILENAME in length (inclusive of the terminator), and which must end with a platform directory separator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success; FALSE otherwise. </dd></dl>

</div>
</div>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
