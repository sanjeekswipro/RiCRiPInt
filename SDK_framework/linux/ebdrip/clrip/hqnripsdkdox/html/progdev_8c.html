<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: progdev.c File Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_19043388fc15ddb67e28f7a33621a223.html">skinkit</a>&nbsp;&raquo;&nbsp;<a class="el" href="dir_1a92abee00141eb4bc1b55dcfd46ed15.html">src</a>
  </div>
</div>
<div class="contents">
<h1>progdev.c File Reference</h1>
<p>Implementation of an example progress device.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="std_8h.html">std.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hqstr_8h.html">hqstr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swdevice_8h.html">swdevice.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="skindevs_8h.html">skindevs.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ripthread_8h.html">ripthread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="skinkit_8h.html">skinkit.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sync_8h.html">sync.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mem_8h.html">mem.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structProgressDeviceState.html">ProgressDeviceState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encapsulates the state of a single instance of this device.  <a href="structProgressDeviceState.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31ec48e8c581824897446817bcb7cf19"></a><!-- doxytag: member="progdev.c::validHandle" ref="a31ec48e8c581824897446817bcb7cf19" args="(uint8 type, intptr_t depth)" -->
static <a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a31ec48e8c581824897446817bcb7cf19">validHandle</a> (<a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> type, intptr_t depth)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Validate the specified handle information. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ae427127ce7767db07faf3c35c4dec128">progressHandle</a> (<a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> type, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> depth)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a handle from the type and depth.  <a href="#ae427127ce7767db07faf3c35c4dec128"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a333e465abf92ee34dfd13372ef70cbbf"></a><!-- doxytag: member="progdev.c::progressHandleType" ref="a333e465abf92ee34dfd13372ef70cbbf" args="(DEVICE_FILEDESCRIPTOR handle)" -->
static <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a333e465abf92ee34dfd13372ef70cbbf">progressHandleType</a> (DEVICE_FILEDESCRIPTOR handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the type from a handle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8eda64554c8e4ced800cbd7bd1cdd6e3"></a><!-- doxytag: member="progdev.c::progressHandleDepth" ref="a8eda64554c8e4ced800cbd7bd1cdd6e3" args="(DEVICE_FILEDESCRIPTOR handle)" -->
static intptr_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a8eda64554c8e4ced800cbd7bd1cdd6e3">progressHandleDepth</a> (DEVICE_FILEDESCRIPTOR handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the depth from a handle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a087b029de502d25404980016fe805108"></a><!-- doxytag: member="progdev.c::progress_init_device" ref="a087b029de502d25404980016fe805108" args="(DEVICELIST *dev)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a087b029de502d25404980016fe805108">progress_init_device</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform any required device initialization. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static DEVICE_FILEDESCRIPTOR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a629c347f8027ef69d1b23a1a7061cab2">progress_open_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *filename, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> openflags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The progress device <code>open_file</code> callback.  <a href="#a629c347f8027ef69d1b23a1a7061cab2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ac4a8611caec7cd9745d20a3297baa8cc">progress_read_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *buff, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op.  <a href="#ac4a8611caec7cd9745d20a3297baa8cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8b3e053140ec1fca66fa99d47ced7cf"></a><!-- doxytag: member="progdev.c::progress_write_file" ref="ab8b3e053140ec1fca66fa99d47ced7cf" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor, uint8 *buff, int32 len)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ab8b3e053140ec1fca66fa99d47ced7cf">progress_write_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *buff, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to report human-readable information from progress text files. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5a7aaafd99b6c6f9f1405c7cdf2b608"></a><!-- doxytag: member="progdev.c::progress_close_common" ref="ac5a7aaafd99b6c6f9f1405c7cdf2b608" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor, int32 fAbort)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ac5a7aaafd99b6c6f9f1405c7cdf2b608">progress_close_common</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> fAbort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the specified file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ae3fdb2d2af8eb4692d75c39fa7123034">progress_close_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ac1a3ecf9a2935492061d01ef72a3d359">progress_abort_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a548bb5d3ab66af9dd446b1f4e236c6a0">progress_seek_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor, <a class="el" href="structHq32x2.html">Hq32x2</a> *destn, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the RIP to report bounded progress information.  <a href="#a548bb5d3ab66af9dd446b1f4e236c6a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace434377efd3386db41be5cda8b8cef8"></a><!-- doxytag: member="progdev.c::progress_bytes_file" ref="ace434377efd3386db41be5cda8b8cef8" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor, Hq32x2 *bytes, int32 reason)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ace434377efd3386db41be5cda8b8cef8">progress_bytes_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVICE_FILEDESCRIPTOR descriptor, <a class="el" href="structHq32x2.html">Hq32x2</a> *bytes, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> reason)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a305e72d2bcdbe7a36fbe703dc7ab8bbc"></a><!-- doxytag: member="progdev.c::progress_status_file" ref="a305e72d2bcdbe7a36fbe703dc7ab8bbc" args="(DEVICELIST *dev, uint8 *filename, STAT *statbuff)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a305e72d2bcdbe7a36fbe703dc7ab8bbc">progress_status_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *filename, <a class="el" href="structSTAT.html">STAT</a> *statbuff)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf1375d69ef8b970236a6959e6a51805"></a><!-- doxytag: member="progdev.c::progress_rename_file" ref="abf1375d69ef8b970236a6959e6a51805" args="(DEVICELIST *dev, uint8 *file1, uint8 *file2)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#abf1375d69ef8b970236a6959e6a51805">progress_rename_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *file1, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *file2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69b8a0c7b388a64c09a97bcc046d7e84"></a><!-- doxytag: member="progdev.c::progress_delete_file" ref="a69b8a0c7b388a64c09a97bcc046d7e84" args="(DEVICELIST *dev, uint8 *filename)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a69b8a0c7b388a64c09a97bcc046d7e84">progress_delete_file</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *filename)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a30c6d783a3f1c6950b607213bdda327e">progress_start_param</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <code>start_param</code> routine for the progress device type.  <a href="#a30c6d783a3f1c6950b607213bdda327e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a9e53c76d875199df4022dcb40ecc083c">progress_set_param</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="structDEVICEPARAM.html">DEVICEPARAM</a> *param)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <code>set_param</code> routine for the progress device type.  <a href="#a9e53c76d875199df4022dcb40ecc083c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#abbf1a2d81be3349552ab72aff0ff5b2b">progress_get_param</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, <a class="el" href="structDEVICEPARAM.html">DEVICEPARAM</a> *param)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <code>get_param</code> routine for the progress device type.  <a href="#abbf1a2d81be3349552ab72aff0ff5b2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10eca47c807a773ffdaec6fc592a45b0"></a><!-- doxytag: member="progdev.c::progress_status_device" ref="a10eca47c807a773ffdaec6fc592a45b0" args="(DEVICELIST *dev, DEVSTAT *devstat)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a10eca47c807a773ffdaec6fc592a45b0">progress_status_device</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev, DEVSTAT *devstat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3dea99c09c11f9783e234374cbab10f"></a><!-- doxytag: member="progdev.c::progress_dismount_device" ref="ab3dea99c09c11f9783e234374cbab10f" args="(DEVICELIST *dev)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ab3dea99c09c11f9783e234374cbab10f">progress_dismount_device</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy state created in <a class="el" href="progdev_8c.html#a087b029de502d25404980016fe805108" title="Perform any required device initialization.">progress_init_device()</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0cbe8980cd5874cb4d63643524cd403"></a><!-- doxytag: member="progdev.c::progress_buffersize" ref="ae0cbe8980cd5874cb4d63643524cd403" args="(DEVICELIST *dev)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#ae0cbe8980cd5874cb4d63643524cd403">progress_buffersize</a> (<a class="el" href="structdevicelist.html">DEVICELIST</a> *dev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b00f37933831f17b0592b4d69fc482d"></a><!-- doxytag: member="progdev.c::progress_void" ref="a3b00f37933831f17b0592b4d69fc482d" args="(void)" -->
static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a3b00f37933831f17b0592b4d69fc482d">progress_void</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A no-op. <br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a5ff56c69746bf93e3109bb8f2c5208f3">fCaptureTextStreamOutput</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether output from RIP JobLog is passed to the skin monitor.  <a href="#a5ff56c69746bf93e3109bb8f2c5208f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ProgressStream&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a08059070dd74e711574990a85b683baa">aStreams</a> []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="progdev_8c.html#a629c347f8027ef69d1b23a1a7061cab2" title="The progress device open_file callback.">progress_open_file()</a> is driven by this table.  <a href="#a08059070dd74e711574990a85b683baa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#abbfddaf74bc363b9ec0b72af3fefdd7b">openCount</a> [4]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of times each of the progress types is open.  <a href="#abbfddaf74bc363b9ec0b72af3fefdd7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4157634fcbda04420d0d4b32431a1801"></a><!-- doxytag: member="progdev.c::Progress_Device_Type" ref="a4157634fcbda04420d0d4b32431a1801" args="" -->
<a class="el" href="structDeviceType.html">DEVICETYPE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="progdev_8c.html#a4157634fcbda04420d0d4b32431a1801">Progress_Device_Type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The DEVICETYPE object describing the callbacks in this device. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Implementation of an example progress device. </p>
<p>The progress device is an optional device, known as <code>%progress%</code> in PostScript. It exists when it has been mounted and its device type set during execution of the <code>Sys/ExtraDevices</code> file. If it does not exist the RIP works silently.</p>
<p>The RIP will open named files on the <code>%progress%</code> device, which will then either use the <a class="el" href="progdev_8c.html#ab8b3e053140ec1fca66fa99d47ced7cf" title="Called to report human-readable information from progress text files.">progress_write_file()</a> call to write arbitrary data (text files) or the <a class="el" href="progdev_8c.html#a548bb5d3ab66af9dd446b1f4e236c6a0" title="Called by the RIP to report bounded progress information.">progress_seek_file()</a> call (seek files) to indicate numerical progress information; it will not use both for the same file.</p>
<p>For more information see Chapter 8 of the Programmers Reference Manual. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac1a3ecf9a2935492061d01ef72a3d359"></a><!-- doxytag: member="progdev.c::progress_abort_file" ref="ac1a3ecf9a2935492061d01ef72a3d359" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_abort_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEVICE_FILEDESCRIPTOR&nbsp;</td>
          <td class="paramname"> <em>descriptor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="progdev_8c.html#ac5a7aaafd99b6c6f9f1405c7cdf2b608" title="Close the specified file.">progress_close_common()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae3fdb2d2af8eb4692d75c39fa7123034"></a><!-- doxytag: member="progdev.c::progress_close_file" ref="ae3fdb2d2af8eb4692d75c39fa7123034" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_close_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEVICE_FILEDESCRIPTOR&nbsp;</td>
          <td class="paramname"> <em>descriptor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="progdev_8c.html#ac5a7aaafd99b6c6f9f1405c7cdf2b608" title="Close the specified file.">progress_close_common()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abbf1a2d81be3349552ab72aff0ff5b2b"></a><!-- doxytag: member="progdev.c::progress_get_param" ref="abbf1a2d81be3349552ab72aff0ff5b2b" args="(DEVICELIST *dev, DEVICEPARAM *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_get_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDEVICEPARAM.html">DEVICEPARAM</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <code>get_param</code> routine for the progress device type. </p>
<p>This routine serves two purposes: When the parameter name is <code>NULL</code>, it is to return the next device parameter. <code>pState-&gt;iParam</code> keeps track of how far through the list we are (though in this case there is only one) otherwise it should return the one called for by the name. </p>

</div>
</div>
<a class="anchor" id="a629c347f8027ef69d1b23a1a7061cab2"></a><!-- doxytag: member="progdev.c::progress_open_file" ref="a629c347f8027ef69d1b23a1a7061cab2" args="(DEVICELIST *dev, uint8 *filename, int32 openflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEVICE_FILEDESCRIPTOR progress_open_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td>
          <td class="paramname"> <em>openflags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The progress device <code>open_file</code> callback. </p>
<p>This function should return -1 for unsupported progress types. The RIP will not treat this as an error; it just will not generate progress information for this type of progress. However, if the file is opened from the PostScript language an error will be reported unless the file is opened in a stopped context. </p>

</div>
</div>
<a class="anchor" id="ac4a8611caec7cd9745d20a3297baa8cc"></a><!-- doxytag: member="progdev.c::progress_read_file" ref="ac4a8611caec7cd9745d20a3297baa8cc" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor, uint8 *buff, int32 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_read_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEVICE_FILEDESCRIPTOR&nbsp;</td>
          <td class="paramname"> <em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> *&nbsp;</td>
          <td class="paramname"> <em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A no-op. </p>
<p>All files on the progress device will be opened by the RIP as write-only, so there is no need to implement a comprehensive <code>read_file</code> call. </p>

</div>
</div>
<a class="anchor" id="a548bb5d3ab66af9dd446b1f4e236c6a0"></a><!-- doxytag: member="progdev.c::progress_seek_file" ref="a548bb5d3ab66af9dd446b1f4e236c6a0" args="(DEVICELIST *dev, DEVICE_FILEDESCRIPTOR descriptor, Hq32x2 *destn, int32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_seek_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEVICE_FILEDESCRIPTOR&nbsp;</td>
          <td class="paramname"> <em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structHq32x2.html">Hq32x2</a> *&nbsp;</td>
          <td class="paramname"> <em>destn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by the RIP to report bounded progress information. </p>
<p>'Seek files' are intended to relay the amount of work done in a task by first telling the device how much work has to be done, and then telling it repeatedly how far through that amount of work the RIP has processed. After the <a class="el" href="progdev_8c.html#a629c347f8027ef69d1b23a1a7061cab2" title="The progress device open_file callback.">progress_open_file()</a> call, a series of calls are made to <a class="el" href="progdev_8c.html#a548bb5d3ab66af9dd446b1f4e236c6a0" title="Called by the RIP to report bounded progress information.">progress_seek_file()</a> that indicate how far the process has gotten in its task.</p>
<p>The first call to <a class="el" href="progdev_8c.html#a548bb5d3ab66af9dd446b1f4e236c6a0" title="Called by the RIP to report bounded progress information.">progress_seek_file()</a> will be passed the <code>SW_XTND</code> to <code>flags</code>. The <code>destn</code> argument gives an estimate of how much work is expected (e.g. the total size of a file in bytes). Later calls will express work done so far as a proportion of this total. Periodically thereafter a number of calls will be made, but with <code>flags</code> set to <code>SW_SET</code> or <code>SW_INCR</code>. <code>SW_INCR</code> is used to show how much data remains buffered but unread by the RIP (for unbounded reading), and <code>SW_SET</code> says how much has been consumed to date. </p>

</div>
</div>
<a class="anchor" id="a9e53c76d875199df4022dcb40ecc083c"></a><!-- doxytag: member="progdev.c::progress_set_param" ref="a9e53c76d875199df4022dcb40ecc083c" args="(DEVICELIST *dev, DEVICEPARAM *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_set_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDEVICEPARAM.html">DEVICEPARAM</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <code>set_param</code> routine for the progress device type. </p>
<p>In this example the only custom device param is <code>JobTiming</code>. Setting this Boolean value to true will allow RIP timing information to be passed to the skin monitor. </p>

</div>
</div>
<a class="anchor" id="a30c6d783a3f1c6950b607213bdda327e"></a><!-- doxytag: member="progdev.c::progress_start_param" ref="a30c6d783a3f1c6950b607213bdda327e" args="(DEVICELIST *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progress_start_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdevicelist.html">DEVICELIST</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <code>start_param</code> routine for the progress device type. </p>
<p>The routine is called as part of the <code>currentdevparams</code> operator; the individual parameters are returned one at a time by subsequent calls to <a class="el" href="progdev_8c.html#abbf1a2d81be3349552ab72aff0ff5b2b" title="The get_param routine for the progress device type.">progress_get_param()</a>. <code>pState-&gt;iParam</code> is used to maintain the state between calls to <a class="el" href="progdev_8c.html#abbf1a2d81be3349552ab72aff0ff5b2b" title="The get_param routine for the progress device type.">progress_get_param()</a>. </p>

</div>
</div>
<a class="anchor" id="ae427127ce7767db07faf3c35c4dec128"></a><!-- doxytag: member="progdev.c::progressHandle" ref="ae427127ce7767db07faf3c35c4dec128" args="(uint8 type, int32 depth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> progressHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td>
          <td class="paramname"> <em>depth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a handle from the type and depth. </p>
<p>The encoding of type and depth as a handle relies on the fact that depth can only be non zero for type 0 (<code>PROGRESS_TYPE_DIAL_READ</code>), and is bounded to 0 &lt;= depth &lt; <code>MAX_OPEN_READ_DIALS</code>. This allows the handle to be a zero based index of all possible open streams. </p>
<pre>
             Handle                   Type  Depth
                  0                      0      2
                  1                      0      1
                  2                      0      0
                  3                      1      0
                  4                      2      0
                ...                    ...    ...
                  h                    h-2      0
 </pre><dl class="return"><dt><b>Returns:</b></dt><dd>A handle value. </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a08059070dd74e711574990a85b683baa"></a><!-- doxytag: member="progdev.c::aStreams" ref="a08059070dd74e711574990a85b683baa" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ProgressStream <a class="el" href="progdev_8c.html#a08059070dd74e711574990a85b683baa">aStreams</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="progdev_8c.html#a629c347f8027ef69d1b23a1a7061cab2" title="The progress device open_file callback.">progress_open_file()</a> is driven by this table. </p>
<p><code>%progress%HalftoneInfo</code>: This text file is responsible for reporting the usage and accuracy of the screens in a job.</p>
<p><code>%progress%HalftoneCaching</code>: This seek file indicates the progress when the RIP is caching a Harlequin Precision Screen (most often when color separating). <a class="el" href="progdev_8c.html#a548bb5d3ab66af9dd446b1f4e236c6a0" title="Called by the RIP to report bounded progress information.">progress_seek_file()</a> is called first with <code>SW_XTND</code>, giving a number that is an indication of the size of the task. A percentage is obtained by dividing subsequent <code>SW_SET</code> seek amounts by first <code>SW_XTND</code> amount.</p>
<p><code>%progress%JobLog</code>: The RIP supports the ability to log job information, such as how long each job took to interpret, rasterize, and output. </p>

</div>
</div>
<a class="anchor" id="a5ff56c69746bf93e3109bb8f2c5208f3"></a><!-- doxytag: member="progdev.c::fCaptureTextStreamOutput" ref="a5ff56c69746bf93e3109bb8f2c5208f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> <a class="el" href="progdev_8c.html#a5ff56c69746bf93e3109bb8f2c5208f3">fCaptureTextStreamOutput</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Whether output from RIP JobLog is passed to the skin monitor. </p>
<p>This value corresponds to the <code>JobTiming</code> device parameter.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="progdev_8c.html#a9e53c76d875199df4022dcb40ecc083c" title="The set_param routine for the progress device type.">progress_set_param()</a>, <a class="el" href="progdev_8c.html#ab8b3e053140ec1fca66fa99d47ced7cf" title="Called to report human-readable information from progress text files.">progress_write_file()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abbfddaf74bc363b9ec0b72af3fefdd7b"></a><!-- doxytag: member="progdev.c::openCount" ref="abbfddaf74bc363b9ec0b72af3fefdd7b" args="[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94">uint8</a> <a class="el" href="progdev_8c.html#abbfddaf74bc363b9ec0b72af3fefdd7b">openCount</a>[4]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of times each of the progress types is open. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Only the read dial can be opened multiple times. </dd></dl>

</div>
</div>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
