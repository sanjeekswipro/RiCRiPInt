<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: sw_htm_instance Struct Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>sw_htm_instance Struct Reference<br/>
<small>
[<a class="el" href="group__PLUGIN__swhtm.html">Halftone module interface</a>]</small>
</h1><!-- doxytag: class="sw_htm_instance" -->
<p>An instance structure for the modular halftone API implementation.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;swhtm.h&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsw__htm__api.html">sw_htm_api</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#ad928f7166fd61e3bcc782af589f09dff">implementation</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the API implementation.  <a href="#ad928f7166fd61e3bcc782af589f09dff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsw__memory__instance.html">sw_memory_instance</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#ae2c5ef08c7ffc4462f75a498a7d5fde5">mem</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A memory allocator instance.  <a href="#ae2c5ef08c7ffc4462f75a498a7d5fde5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a19df6d901e78ba87fd2241b79b8a1fe4">src_bit_depth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a3bbd3b26e638d9a39586d7101f12d1e6">want_object_map</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a74a027e832975cc6358c6585eb7e0921">interrelated_channels</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a901567524e75fafc72bc5bfb2c4a235e">num_src_channels</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a0b536aaadb19834b39ee949d76c92c69">num_dst_channels</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#aa0af043d8d900cca8982e660c1c18cdf">process_empty_bands</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a43f378d6ea016645fa84345201f03bda">latency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PLUGIN__swhtm.html#ga7bdfb5db1c03ed352816f16a76a181be">sw_message_fn</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__htm__instance.html#a3a991f88e2125c1d6a75f2b718a453b2">Message</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An instance structure for the modular halftone API implementation. </p>
<p>This is the definition of a modular halftone instance. The RIP allocates memory for the instances, calling the <a class="el" href="structsw__htm__api.html#a64434df0ab497f03862280bf0e634763" title="The RIP calls HalftoneSelect() when the PDL instigates the equivalent of a PostScript...">sw_htm_api::HalftoneSelect()</a> method to complete the details. The RIP uses this value in calls to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> and <a class="el" href="structsw__htm__api.html#a6f7c13bd3eb96f85eb8150cca0d3c45d" title="The RIP calls HalftoneRelease() when it no longer needs a reference to a particular...">sw_htm_api::HalftoneRelease()</a>, to tell the module which halftone is being referred to.</p>
<p>The instance structure may be subclassed to hold private data by defining a subclass structure containing this structure as its first member, and using the size of that structure as the implementation's instance size. Individual methods may then downcast their instance pointer parameters to subclass pointers, and use the private data. e.g.,</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">typedef</span> <span class="keyword">struct </span>my_instance {
   <a class="code" href="structsw__htm__instance.html" title="An instance structure for the modular halftone API implementation.">sw_htm_instance</a> super ; <span class="comment">// must be first entry</span>
   <span class="keyword">struct </span>my_data *dynamic ;
   <a class="code" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b" title="32-bit signed integer">int32</a> other_fields ;
 } my_instance ;

 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ripcall_8h.html#af797d2c5ebe66a006abbbe0adf8c4c82" title="Defines explicit calling convention macro for RIP-exported APIs.">RIPCALL</a> my_HalftoneRelease(<a class="code" href="structsw__htm__instance.html" title="An instance structure for the modular halftone API implementation.">sw_htm_instance</a> *inst)
 {
   my_instance *myinst = (my_instance *)inst ; <span class="comment">// downcast to subclass</span>
   <span class="comment">// free allocated data, if necessary:</span>
   inst-&gt;<a class="code" href="structsw__htm__instance.html#ae2c5ef08c7ffc4462f75a498a7d5fde5" title="A memory allocator instance.">mem</a>-&gt;<a class="code" href="structsw__memory__instance.html#a3a56751599f9431bcade7006cf7aaaf9" title="Pointer to the API implementation.">implementation</a>-&gt;<a class="code" href="structsw__memory__api.html#aece6cfd7fc8024a9fc3c436b302eef6a" title="Free a previously allocated block.">free</a>(inst-&gt;<a class="code" href="structsw__htm__instance.html#ae2c5ef08c7ffc4462f75a498a7d5fde5" title="A memory allocator instance.">mem</a>, myinst-&gt;dynamic) ;
 } ;

 <span class="keyword">const</span> <span class="keyword">static</span> <a class="code" href="structsw__htm__api.html" title="The definition of an implementation of the modular halftoning interface.">sw_htm_api</a> my_impl = {
   {
     <a class="code" href="group__PLUGIN__swhtm.html#gga2970898e8a43ce21e1cc510d49f1b89da561798ad8dfa34a87d249afc2d9db461">SW_HTM_API_VERSION_20071110</a>,
     (<span class="keyword">const</span> <a class="code" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94" title="8-bit unsigned integer">uint8</a> *)<span class="stringliteral">&quot;myname&quot;</span>,
     (<span class="keyword">const</span> <a class="code" href="group__stdtypes.html#ga3c77e3a247345b581bdb6939ffe95a94" title="8-bit unsigned integer">uint8</a> *)(<span class="stringliteral">&quot;A long description of my module implementation&quot;</span>
                     <span class="stringliteral">&quot;Copyright (C) 2007 Global Graphics Software Ltd.&quot;</span>),
     <span class="keyword">sizeof</span>(my_instance), <span class="comment">// RIP will allocate this amount for instance</span>
   },
   <span class="comment">// ...more of sw_htm_api definition...</span>
   my_HalftoneRelease,
   <span class="comment">// ...rest of sw_htm_api definition...</span>
 } ;

 <span class="comment">// Call SwRegisterHTM(&amp;my_impl) after SwInit() to register this module.</span>
</pre></div><p>The RIP will not touch memory beyond the size of the instance structure for the implementation version registered. </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad928f7166fd61e3bcc782af589f09dff"></a><!-- doxytag: member="sw_htm_instance::implementation" ref="ad928f7166fd61e3bcc782af589f09dff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsw__htm__api.html">sw_htm_api</a>* <a class="el" href="structsw__htm__instance.html#ad928f7166fd61e3bcc782af589f09dff">implementation</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the API implementation. </p>
<p>API methods for a halftone instance should always be called by indirecting through the instance's implementation field.</p>
<p>This field is filled in by the RIP before <a class="el" href="structsw__htm__api.html#a64434df0ab497f03862280bf0e634763" title="The RIP calls HalftoneSelect() when the PDL instigates the equivalent of a PostScript...">sw_htm_api::HalftoneSelect()</a> is called. </p>

</div>
</div>
<a class="anchor" id="a74a027e832975cc6358c6585eb7e0921"></a><!-- doxytag: member="sw_htm_instance::interrelated_channels" ref="a74a027e832975cc6358c6585eb7e0921" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a> <a class="el" href="structsw__htm__instance.html#a74a027e832975cc6358c6585eb7e0921">interrelated_channels</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether the halftone demands interrelated color channels. Setting this to <code>TRUE</code> means that the screening module needs the RIP to screen several channels at once in each single call to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> that uses this halftone instance. This must be <code>FALSE</code> for frame-interleaved output.</p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Must always be <code>FALSE</code> at present, because the RIP does not yet support interrelated channel screening. </dd></dl>

</div>
</div>
<a class="anchor" id="a43f378d6ea016645fa84345201f03bda"></a><!-- doxytag: member="sw_htm_instance::latency" ref="a43f378d6ea016645fa84345201f03bda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsw__htm__instance.html#a43f378d6ea016645fa84345201f03bda">latency</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of previous bands that are needed by the screening algorithm. The destination rasters for these will be available during <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> at the addresses that they were earlier presented at (so the module needs to remember <code>dst_channels</code> from earlier calls). The other buffers from earlier calls will not be available (but the module might store some of that data in its own buffers). If the algorithm just works on the current band, specify 0. </p>

</div>
</div>
<a class="anchor" id="ae2c5ef08c7ffc4462f75a498a7d5fde5"></a><!-- doxytag: member="sw_htm_instance::mem" ref="ae2c5ef08c7ffc4462f75a498a7d5fde5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsw__memory__instance.html">sw_memory_instance</a>* <a class="el" href="structsw__htm__instance.html#ae2c5ef08c7ffc4462f75a498a7d5fde5">mem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A memory allocator instance. </p>
<p>This object is supplied by the RIP so that the halftone implementation can allocate memory using the RIP's memory allocator. halftone implementations should use this in preference to malloc() and free(), so that the RIP can track memory allocation and respond to low memory states more effectively.</p>
<p>This field is filled in by the RIP before <a class="el" href="structsw__htm__api.html#a64434df0ab497f03862280bf0e634763" title="The RIP calls HalftoneSelect() when the PDL instigates the equivalent of a PostScript...">sw_htm_api::HalftoneSelect()</a> is called. </p>

</div>
</div>
<a class="anchor" id="a3a991f88e2125c1d6a75f2b718a453b2"></a><!-- doxytag: member="sw_htm_instance::Message" ref="a3a991f88e2125c1d6a75f2b718a453b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PLUGIN__swhtm.html#ga7bdfb5db1c03ed352816f16a76a181be">sw_message_fn</a>* <a class="el" href="structsw__htm__instance.html#a3a991f88e2125c1d6a75f2b718a453b2">Message</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A function to output a message to the RIP's monitor device. The length is limited to 1000 bytes including the null terminator. End the message with a new line (<br/>
) to avoid the next message (possibly from a different thread) being stuck to the end of it. </p>

</div>
</div>
<a class="anchor" id="a0b536aaadb19834b39ee949d76c92c69"></a><!-- doxytag: member="sw_htm_instance::num_dst_channels" ref="a0b536aaadb19834b39ee949d76c92c69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsw__htm__instance.html#a0b536aaadb19834b39ee949d76c92c69">num_dst_channels</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of destination (halftone) raster channels the RIP must pass to the screening module with each call to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a>. Ignored unless <em>interrelated_channels</em> is <code>TRUE</code>. </p>

</div>
</div>
<a class="anchor" id="a901567524e75fafc72bc5bfb2c4a235e"></a><!-- doxytag: member="sw_htm_instance::num_src_channels" ref="a901567524e75fafc72bc5bfb2c4a235e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsw__htm__instance.html#a901567524e75fafc72bc5bfb2c4a235e">num_src_channels</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of source (contone) raster channels the RIP must pass to the screening module with each call to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a>. Ignored unless <em>interrelated_channels</em> is <code>TRUE</code>. </p>

</div>
</div>
<a class="anchor" id="aa0af043d8d900cca8982e660c1c18cdf"></a><!-- doxytag: member="sw_htm_instance::process_empty_bands" ref="aa0af043d8d900cca8982e660c1c18cdf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a> <a class="el" href="structsw__htm__instance.html#aa0af043d8d900cca8982e660c1c18cdf">process_empty_bands</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set this to <code>TRUE</code> if <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> must be called even when there are no pixels to be processed, i.e., the mask bitmap is all zeroes. If this is <code>FALSE</code>, the RIP will skip the call to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> whenever it can. </p>

</div>
</div>
<a class="anchor" id="a19df6d901e78ba87fd2241b79b8a1fe4"></a><!-- doxytag: member="sw_htm_instance::src_bit_depth" ref="a19df6d901e78ba87fd2241b79b8a1fe4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsw__htm__instance.html#a19df6d901e78ba87fd2241b79b8a1fe4">src_bit_depth</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The source (contone) raster bit depth this instance requires. All halftones in use must use the same source raster bit depth. </p>

</div>
</div>
<a class="anchor" id="a3bbd3b26e638d9a39586d7101f12d1e6"></a><!-- doxytag: member="sw_htm_instance::want_object_map" ref="a3bbd3b26e638d9a39586d7101f12d1e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdtypes.html#ga647554e4db926121141b7e831337adf7">HqBool</a> <a class="el" href="structsw__htm__instance.html#a3bbd3b26e638d9a39586d7101f12d1e6">want_object_map</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether screening this instance needs the object properties map provided in calls to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a>.</p>
<p>If this is <code>FALSE</code>, the <em>object_props_map</em> field of the structure <a class="el" href="structsw__htm__dohalftone__request.html" title="Structure describing what the RIP wants sw_htm_api::DoHalftone() to do.">sw_htm_dohalftone_request</a> passed to <a class="el" href="structsw__htm__api.html#a6226a7b89a7d07c760f1ea2ed79615fb" title="The RIP calls DoHalftone() when it wants the module to render a halftone instance...">sw_htm_api::DoHalftone()</a> will always be <code>NULL</code>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="swhtm_8h.html">swhtm.h</a></li>
</ul>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
