<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->
<!-- $HopeName: SWprod_hqnrip!clrip:branding:lekit-header.html(EBDSDK_P.1) $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"> <title>Harlequin RIP SDK: prnttcktutils.c File Reference</title> <h5 style="align: right;"><a href="http://www.globalgraphics.com" target="_blank"><img src="./gg_logo.gif" alt="Global Graphics logo" align="middle" border=0></a><img src="./spacer.gif">Harlequin RIP SDK Documentation</h5> <link href="doxygen.css" rel="stylesheet" type="text/css"> </head> </html> 
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_498ef9a5804dc1b550720bdd4ea06ad4.html">ptdev</a>&nbsp;&raquo;&nbsp;<a class="el" href="dir_ed26789af6457fb046d382f33b7c53e4.html">src</a>
  </div>
</div>
<div class="contents">
<h1>prnttcktutils.c File Reference</h1>
<p>Print ticket handling utility functions.  
<a href="#_details">More...</a></p>
<code>#include &quot;ptincs.h&quot;</code><br/>
<code>#include &quot;prnttckt.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="prnttcktutils_8h.html">prnttcktutils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dynstring_8h.html">dynstring.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a90e4ad823c09820cebb547c16493a512">PSSafeString</a> (<a class="el" href="structPSString.html">PSString</a> *s, const char *const ptbz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static PT_PARAM *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a8d9b3c08e043948c4374926393fd26b9">getParamFromReference</a> (const PT_PARAM *const pRefParam)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a1cf582ccb3164bd7f66d14bf1e1130ab">pt_paramToPS</a> (<a class="el" href="structPSString.html">PSString</a> *s, PT_PARAM *pParam, <a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a> nLevel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a90ee8910bd9ca18e4859e72646219960">doubleArrayToPS</a> (<a class="el" href="structPSString.html">PSString</a> *s, const double *const pArr, <a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a> nElems)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a787d7bbd44967d03da28da4cef75cb14">pt_createJobStartPSFromPTParam</a> (struct PT_PARAM *pParam)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a PostScript string to configure the RIP for job level processing.  <a href="#a787d7bbd44967d03da28da4cef75cb14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#a2546e0ada5584aa118770ccaa6498c7a">pt_createDocumentStartPSFromPTParam</a> (struct PT_PARAM *pParam)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a PostScript string to configure the RIP for document level processing.  <a href="#a2546e0ada5584aa118770ccaa6498c7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="prnttcktutils_8c.html#acba61dc4cd99680f80a3dda81d684095">pt_createPageStartPSFromPTParam</a> (const struct PT_PAGEAREAS *pPageAreas, int fXPSSignatureValid, struct PT_PARAM *pParam)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a PostScript string to configure the RIP for page level processing.  <a href="#acba61dc4cd99680f80a3dda81d684095"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Print ticket handling utility functions. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a90ee8910bd9ca18e4859e72646219960"></a><!-- doxytag: member="prnttcktutils.c::doubleArrayToPS" ref="a90ee8910bd9ca18e4859e72646219960" args="(PSString *s, const double *const pArr, uint32 nElems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void doubleArrayToPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPSString.html">PSString</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *const &nbsp;</td>
          <td class="paramname"> <em>pArr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#ga8ad23e2333787a214e20a58a284a5a60">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>nElems</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append an array of doubles as a PostScript representation of the form "[n1 n2 n3 ...]" to a record.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>s</em>&nbsp;</td><td>The string to append to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pArr</em>&nbsp;</td><td>The input array </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nElems</em>&nbsp;</td><td>The number of numbers in the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d9b3c08e043948c4374926393fd26b9"></a><!-- doxytag: member="prnttcktutils.c::getParamFromReference" ref="a8d9b3c08e043948c4374926393fd26b9" args="(const PT_PARAM *const pRefParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PT_PARAM* getParamFromReference </td>
          <td>(</td>
          <td class="paramtype">const PT_PARAM *const &nbsp;</td>
          <td class="paramname"> <em>pRefParam</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Iterate over the PT_PARAM tree of which pRefParam belongs, looking for the target ParameterInit being referenced.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pRefParam</em>&nbsp;</td><td>The ParameterRef reference </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the children of the referenced ParameterInit (or NULL if not found). </dd></dl>

</div>
</div>
<a class="anchor" id="a90e4ad823c09820cebb547c16493a512"></a><!-- doxytag: member="prnttcktutils.c::PSSafeString" ref="a90e4ad823c09820cebb547c16493a512" args="(PSString *s, const char *const ptbz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void PSSafeString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPSString.html">PSString</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>ptbz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append a PostScript-safe copy of the specified string to the record.</p>
<p>The following characters will be escaped: '(', ')', '\'</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>s</em>&nbsp;</td><td>The string to append to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ptbz</em>&nbsp;</td><td>The string to append </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2546e0ada5584aa118770ccaa6498c7a"></a><!-- doxytag: member="prnttcktutils.c::pt_createDocumentStartPSFromPTParam" ref="a2546e0ada5584aa118770ccaa6498c7a" args="(struct PT_PARAM *pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* pt_createDocumentStartPSFromPTParam </td>
          <td>(</td>
          <td class="paramtype">struct PT_PARAM *&nbsp;</td>
          <td class="paramname"> <em>pParam</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a PostScript string to configure the RIP for document level processing. </p>
<p>Converts a Print Ticket tree into a PostScript representation filtered to contain settings only at the document level. This object is then used to format the PostScript sequence needed to submit this data to the Print Ticket procset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pParam</em>&nbsp;</td><td>Pointer to the Print Ticket parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a malloc'ed string containing the PostScript (or NULL on error) </dd></dl>

</div>
</div>
<a class="anchor" id="a787d7bbd44967d03da28da4cef75cb14"></a><!-- doxytag: member="prnttcktutils.c::pt_createJobStartPSFromPTParam" ref="a787d7bbd44967d03da28da4cef75cb14" args="(struct PT_PARAM *pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* pt_createJobStartPSFromPTParam </td>
          <td>(</td>
          <td class="paramtype">struct PT_PARAM *&nbsp;</td>
          <td class="paramname"> <em>pParam</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a PostScript string to configure the RIP for job level processing. </p>
<p>Converts a Print Ticket tree into a PostScript representation filtered to contain settings only at the job level. This object is then used to format the PostScript sequence needed to submit this data to the Print Ticket procset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pParam</em>&nbsp;</td><td>Pointer to the Print Ticket parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a malloc'ed string containing the PostScript (or NULL on error) </dd></dl>

</div>
</div>
<a class="anchor" id="acba61dc4cd99680f80a3dda81d684095"></a><!-- doxytag: member="prnttcktutils.c::pt_createPageStartPSFromPTParam" ref="acba61dc4cd99680f80a3dda81d684095" args="(const struct PT_PAGEAREAS *pPageAreas, int fXPSSignatureValid, struct PT_PARAM *pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* pt_createPageStartPSFromPTParam </td>
          <td>(</td>
          <td class="paramtype">const struct PT_PAGEAREAS *&nbsp;</td>
          <td class="paramname"> <em>pPageAreas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fXPSSignatureValid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct PT_PARAM *&nbsp;</td>
          <td class="paramname"> <em>pParam</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a PostScript string to configure the RIP for page level processing. </p>
<p>Converts a Print Ticket tree into a PostScript representation filtered to contain settings only at the page level. This object is then used to format the PostScript sequence needed to submit this data to the Print Ticket procset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPageAreas</em>&nbsp;</td><td>Points to a structure defining various page areas (such as the size of the FixedPage, ContentBox area, etc). All values should be in PostScript points. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fXPSSignatureValid</em>&nbsp;</td><td>Should be FALSE if signature is invalid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pParam</em>&nbsp;</td><td>Pointer to the Print Ticket parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a malloc'ed string containing the PostScript (or NULL on error) </dd></dl>

</div>
</div>
<a class="anchor" id="a1cf582ccb3164bd7f66d14bf1e1130ab"></a><!-- doxytag: member="prnttcktutils.c::pt_paramToPS" ref="a1cf582ccb3164bd7f66d14bf1e1130ab" args="(PSString *s, PT_PARAM *pParam, int32 nLevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void pt_paramToPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPSString.html">PSString</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PT_PARAM *&nbsp;</td>
          <td class="paramname"> <em>pParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdtypes.html#gada104807b93ac7cd59dac80d98ba857b">int32</a>&nbsp;</td>
          <td class="paramname"> <em>nLevel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Produce a PostScript representation of the specified Print Ticket parameter. If child objects are found then they are recursed.</p>
<p>The <code>nLevel</code> parameter is used to filter the Print Ticket. For example, if <code>PT_LEVEL_JOB</code> is specified only job-level settings are included in the output string (E.g. 'JobNUp', 'JobDuplex', etc).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>s</em>&nbsp;</td><td>The string to append to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pParam</em>&nbsp;</td><td>Pointer to the Print Ticket parameter </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nLevel</em>&nbsp;</td><td>A PT_LEVEL_xxx value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"><address style="align: right;">
<!-- $HopeName: SWprod_hqnrip!clrip:branding:footer.html(EBDSDK_P.1) $ -->
<!-- Copyright (C) 2007 Global Graphics Software Ltd. All rights reserved. -->
<!-- Global Graphics Software Ltd. Confidential Information. -->

<i><small>For information on other products from Global Graphics, visit <a href="http://www.globalgraphics.com" target="_blank">www.globalgraphics.com</a></small></i></address>
</body>
</html>
